{"version":3,"sources":["../../../../../../packages/react-virtualizer/src/utilities/VirtualizerContext/VirtualizerContext.ts"],"sourcesContent":["import * as React from 'react';\nimport type {\n  DynamicVirtualizerContextProps,\n  VirtualizerContextProps,\n} from './types';\n\nconst VirtualizerContext = React.createContext<\n  VirtualizerContextProps | undefined\n>(undefined) as React.Context<VirtualizerContextProps>;\n\nexport const VirtualizerContextProvider = VirtualizerContext.Provider;\n\nexport const useVirtualizerContext_unstable = ():\n  | VirtualizerContextProps\n  | undefined => {\n  return React.useContext(VirtualizerContext);\n};\n\nexport const useVirtualizerContextState_unstable = (\n  passedContext?: VirtualizerContextProps\n): DynamicVirtualizerContextProps => {\n  const virtualizerContext = useVirtualizerContext_unstable();\n  const [_contextIndex, _setContextIndex] = React.useState<number>(-1);\n  const childProgressiveSizes = React.useRef<number[]>([]);\n\n  /* We respect any wrapped providers while also ensuring defaults or passed through\n   * Order of usage -> Passed Prop -> Provider Context -> Internal State default\n   */\n  const context = React.useMemo(\n    () => ({\n      contextIndex:\n        passedContext?.contextIndex ??\n        virtualizerContext?.contextIndex ??\n        _contextIndex,\n      setContextIndex:\n        passedContext?.setContextIndex ??\n        virtualizerContext?.setContextIndex ??\n        _setContextIndex,\n      childProgressiveSizes,\n    }),\n    [_contextIndex, passedContext, virtualizerContext]\n  );\n\n  return context;\n};\n"],"names":["React","VirtualizerContext","createContext","undefined","VirtualizerContextProvider","Provider","useVirtualizerContext_unstable","useContext","useVirtualizerContextState_unstable","passedContext","virtualizerContext","_contextIndex","_setContextIndex","useState","childProgressiveSizes","useRef","context","useMemo","contextIndex","setContextIndex"],"mappings":"AAAA,YAAYA,WAAW,QAAQ;AAM/B,MAAMC,qBAAqBD,MAAME,aAAa,CAE5CC;AAEF,OAAO,MAAMC,6BAA6BH,mBAAmBI,QAAQ,CAAC;AAEtE,OAAO,MAAMC,iCAAiC;IAG5C,OAAON,MAAMO,UAAU,CAACN;AAC1B,EAAE;AAEF,OAAO,MAAMO,sCAAsC,CACjDC;IAEA,MAAMC,qBAAqBJ;IAC3B,MAAM,CAACK,eAAeC,iBAAiB,GAAGZ,MAAMa,QAAQ,CAAS,CAAC;IAClE,MAAMC,wBAAwBd,MAAMe,MAAM,CAAW,EAAE;IAEvD;;GAEC,GACD,MAAMC,UAAUhB,MAAMiB,OAAO,CAC3B;YAEIR,6BAAAA,MAIAA,gCAAAA;eANG;YACLS,cACET,CAAAA,OAAAA,CAAAA,8BAAAA,iCAAAA,cAAeS,YAAY,YAA3BT,8BACAC,sCAAAA,mBAAoBQ,YAAY,YADhCT,OAEAE;YACFQ,iBACEV,CAAAA,QAAAA,CAAAA,iCAAAA,iCAAAA,cAAeU,eAAe,YAA9BV,iCACAC,sCAAAA,mBAAoBS,eAAe,YADnCV,QAEAG;YACFE;QACF;OACA;QAACH;QAAeF;QAAeC;KAAmB;IAGpD,OAAOM;AACT,EAAE"}