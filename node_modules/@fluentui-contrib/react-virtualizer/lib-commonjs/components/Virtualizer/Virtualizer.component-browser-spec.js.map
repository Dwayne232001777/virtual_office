{"version":3,"sources":["../../../../../../packages/react-virtualizer/src/components/Virtualizer/Virtualizer.component-browser-spec.tsx"],"sourcesContent":["import * as React from 'react';\nimport { test, expect } from '@playwright/experimental-ct-react';\nimport {\n  VirtualizerExample,\n  VirtualizerComboboxExample,\n} from './VirtualizerExample.component-browser-spec';\n\ntest.use({ viewport: { width: 800, height: 600 } });\n\n/**\n * Helper function to check if console errors contain React key reconciliation errors\n */\nconst hasKeyErrors = (errors: string[]): boolean => {\n  const keyErrorPatterns = [\n    'key',\n    'unique',\n    'Warning: Encountered two children with the same key',\n  ];\n  return errors.some((err) =>\n    keyErrorPatterns.some((pattern) => err.includes(pattern))\n  );\n};\n\ntest.describe('Virtualizer', () => {\n  test('should render only visible items initially', async ({ mount }) => {\n    const component = await mount(<VirtualizerExample numItems={1000} />);\n    await expect(component).toBeVisible();\n\n    // Should render first item\n    await expect(component.getByTestId('item-0')).toBeVisible();\n\n    // Should NOT render items far down the list\n    const farItem = component.getByTestId('item-500');\n    await expect(farItem).not.toBeAttached();\n  });\n\n  test('should have correct ARIA attributes', async ({ mount }) => {\n    const component = await mount(<VirtualizerExample numItems={100} />);\n\n    const container = component.getByTestId('scroll-container');\n\n    await expect(container).toBeVisible();\n\n    await expect(container).toHaveAttribute('role', 'list');\n    await expect(container).toHaveAttribute(\n      'aria-label',\n      'Virtualizer Example'\n    );\n\n    // Wait for first item to be rendered (virtualizer needs to measure container first)\n    const firstItem = component.getByTestId('item-0');\n    await expect(firstItem).toBeVisible();\n\n    // Check ARIA attributes\n    await expect(firstItem).toHaveAttribute('role', 'listitem');\n    await expect(firstItem).toHaveAttribute('aria-posinset', '1');\n    await expect(firstItem).toHaveAttribute('aria-setsize', '100');\n  });\n\n  test('should update visible items on scroll', async ({ mount }) => {\n    const component = await mount(<VirtualizerExample numItems={1000} />);\n\n    // Initially item-0 should be visible\n    await expect(component.getByTestId('item-0')).toBeVisible();\n\n    // Scroll down\n\n    const container = component.getByTestId('scroll-container');\n\n    await container.evaluate((el) => {\n      el.scrollTop = 2500; // Scroll to middle (50 items * 50px each)\n    });\n\n    // Wait for item-50 to appear (IntersectionObserver callback)\n    await expect(component.getByTestId('item-50')).toBeVisible();\n\n    // Item-0 should no longer be in the DOM\n    await expect(component.getByTestId('item-0')).not.toBeAttached();\n  });\n\n  test('should handle rapid scrolling without whitespace', async ({\n    mount,\n  }) => {\n    const component = await mount(<VirtualizerExample numItems={1000} />);\n    const container = component.getByTestId('scroll-container');\n\n    // Perform rapid scrolling\n    for (let i = 0; i < 10; i++) {\n      await container.evaluate((el, offset) => {\n        el.scrollTop += offset;\n      }, 500);\n    }\n\n    // Wait for items to be rendered after scrolling\n    await expect(component.locator('[role=\"listitem\"]').first()).toBeVisible();\n\n    // Should still have items rendered (no blank space)\n    const items = await component.locator('[role=\"listitem\"]').count();\n    expect(items).toBeGreaterThan(0);\n  });\n\n  test('should scroll to bottom and render last items', async ({ mount }) => {\n    const component = await mount(<VirtualizerExample numItems={1000} />);\n    const container = component.getByTestId('scroll-container');\n\n    // Scroll to bottom\n    await container.evaluate((el) => {\n      el.scrollTop = el.scrollHeight;\n    });\n\n    // Wait for last item to appear\n    await expect(component.getByTestId('item-999')).toBeVisible();\n  });\n\n  test('should handle scroll to top', async ({ mount }) => {\n    const component = await mount(<VirtualizerExample numItems={1000} />);\n    const container = component.getByTestId('scroll-container');\n\n    // First scroll to middle\n    await container.evaluate((el) => {\n      el.scrollTop = 5000;\n    });\n\n    // Wait for middle items to appear\n    await expect(component.getByTestId('item-100')).toBeVisible();\n\n    // Then scroll back to top\n    await container.evaluate((el) => {\n      el.scrollTop = 0;\n    });\n\n    // Wait for first item to reappear\n    await expect(component.getByTestId('item-0')).toBeVisible();\n  });\n\n  test('should maintain correct item count', async ({ mount }) => {\n    const component = await mount(<VirtualizerExample numItems={1000} />);\n    const container = component.getByTestId('scroll-container');\n\n    await expect(container).toBeVisible();\n\n    // Wait for initial items to be rendered\n    await expect(component.getByTestId('item-0')).toBeVisible();\n\n    // Count rendered items\n    const itemCount = await component.locator('[role=\"listitem\"]').count();\n\n    // Should render more than viewport but less than total\n    expect(itemCount).toBeGreaterThan(5);\n    expect(itemCount).toBeLessThan(1000);\n\n    // After scrolling, count should be similar\n    await container.evaluate((el) => {\n      el.scrollTop = 2500;\n    });\n\n    // Wait for virtualization to update by checking that the expected item is visible\n    await expect(component.getByTestId('item-50')).toBeVisible();\n\n    const itemCountAfterScroll = await component\n      .locator('[role=\"listitem\"]')\n      .count();\n    expect(itemCountAfterScroll).toBeGreaterThan(5);\n    expect(itemCountAfterScroll).toBeLessThan(1000);\n  });\n\n  test('should handle small lists (no virtualization needed)', async ({\n    mount,\n  }) => {\n    const component = await mount(<VirtualizerExample numItems={5} />);\n\n    // All items should be visible\n    await expect(component.getByTestId('item-0')).toBeVisible();\n    await expect(component.getByTestId('item-1')).toBeVisible();\n    await expect(component.getByTestId('item-2')).toBeVisible();\n    await expect(component.getByTestId('item-3')).toBeVisible();\n    await expect(component.getByTestId('item-4')).toBeVisible();\n  });\n\n  test('should render items with correct content', async ({ mount }) => {\n    const component = await mount(<VirtualizerExample numItems={100} />);\n\n    const item0 = component.getByTestId('item-0');\n    await expect(item0).toContainText('Item 0');\n\n    const item1 = component.getByTestId('item-1');\n    await expect(item1).toContainText('Item 1');\n  });\n\n  test('should handle edge case at list boundaries', async ({ mount }) => {\n    const component = await mount(<VirtualizerExample numItems={100} />);\n    const container = component.getByTestId('scroll-container');\n\n    // Scroll to very bottom\n    await container.evaluate((el) => {\n      el.scrollTop = el.scrollHeight - el.clientHeight;\n    });\n\n    // Wait for last item to appear\n    await expect(component.getByTestId('item-99')).toBeVisible();\n\n    // Scroll to very top\n    await container.evaluate((el) => {\n      el.scrollTop = 0;\n    });\n\n    // Wait for first item to reappear\n    await expect(component.getByTestId('item-0')).toBeVisible();\n  });\n\n  test('should start with empty list and prepend items without React key errors', async ({\n    mount,\n    page,\n  }) => {\n    // Listen for console errors\n    const consoleErrors: string[] = [];\n    page.on('console', (msg) => {\n      if (msg.type() === 'error') {\n        consoleErrors.push(msg.text());\n      }\n    });\n\n    const component = await mount(<VirtualizerExample numItems={0} />);\n\n    // Wait for initial render\n    await expect(component.getByTestId('scroll-container')).toBeVisible();\n\n    // Initially, list should be empty\n    await expect(component.locator('[role=\"listitem\"]')).toHaveCount(0);\n\n    // Add first item\n    await component.getByTestId('add-item-button').click();\n\n    // Should have one item now\n    const firstItem = component.getByTestId('item-0');\n    await expect(firstItem).toBeVisible();\n    await expect(firstItem).toHaveAttribute('data-value', '0');\n    await expect(firstItem).toContainText('Item 0');\n\n    // Add second item (should be prepended)\n    await component.getByTestId('add-item-button').click();\n\n    // item-1 should now be first (prepended)\n    const newFirstItem = component.getByTestId('item-1');\n    await expect(newFirstItem).toBeVisible();\n    await expect(newFirstItem).toHaveAttribute('data-value', '1');\n\n    // item-0 should still be visible but below item-1\n    await expect(firstItem).toBeVisible();\n\n    // Verify no React key reconciliation errors\n    expect(hasKeyErrors(consoleErrors)).toBe(false);\n  });\n\n  test('should handle prepending multiple items without React key errors', async ({\n    mount,\n    page,\n  }) => {\n    const consoleErrors: string[] = [];\n    page.on('console', (msg) => {\n      if (msg.type() === 'error') {\n        consoleErrors.push(msg.text());\n      }\n    });\n\n    const component = await mount(<VirtualizerExample numItems={0} />);\n\n    await expect(component.getByTestId('scroll-container')).toBeVisible();\n\n    // Add 10 items at once\n    await component.getByTestId('add-multiple-button').click();\n\n    // First visible item should be item-0 (the first of the 10 added)\n    const firstItem = component.getByTestId('item-0');\n    await expect(firstItem).toBeVisible();\n    await expect(firstItem).toHaveAttribute('data-value', '0');\n\n    // Should have items visible\n    const itemsAfterFirst = await component\n      .locator('[role=\"listitem\"]')\n      .count();\n    expect(itemsAfterFirst).toBeGreaterThan(0);\n\n    // Add 10 more items (should be prepended)\n    await component.getByTestId('add-multiple-button').click();\n\n    // Now item-10 should be first\n    const newFirstItem = component.getByTestId('item-10');\n    await expect(newFirstItem).toBeVisible();\n    await expect(newFirstItem).toHaveAttribute('data-value', '10');\n\n    // No key reconciliation errors\n    expect(hasKeyErrors(consoleErrors)).toBe(false);\n  });\n\n  test('should correctly update when scrolled and items are prepended', async ({\n    mount,\n  }) => {\n    const component = await mount(<VirtualizerExample numItems={50} />);\n\n    await expect(component.getByTestId('scroll-container')).toBeVisible();\n\n    // Wait for initial items to be rendered\n    await expect(component.getByTestId('item-0')).toBeVisible();\n\n    // Scroll down\n    const container = component.getByTestId('scroll-container');\n    await container.evaluate((el) => {\n      el.scrollTop = 1000;\n    });\n\n    // Wait for scrolled items to appear\n    await expect(component.getByTestId('item-20')).toBeVisible();\n\n    // Add more items while scrolled (prepend to top)\n    await component.getByTestId('add-multiple-button').click();\n\n    // Scroll back to top to see the newly prepended items\n    await container.evaluate((el) => {\n      el.scrollTop = 0;\n    });\n\n    // Wait for new items to be visible at the top - item-50 is the first of the newly added 10 items\n    await expect(component.getByTestId('item-50')).toBeVisible();\n\n    // Items should still render correctly\n    const items = await component.locator('[role=\"listitem\"]').count();\n    expect(items).toBeGreaterThan(0);\n  });\n});\n\ntest.describe('ComboboxVirtualizer', () => {\n  test('should render combobox with virtualized options', async ({\n    mount,\n    page,\n  }) => {\n    const component = await mount(<VirtualizerComboboxExample />);\n\n    const combobox = component.getByRole('combobox');\n    await expect(combobox).toBeVisible();\n\n    // Open combobox (this renders the options in a portal on document.body)\n    await combobox.click();\n\n    // Wait for the portal listbox to appear (use page-scoped locator)\n    const optionsList = page.getByRole('listbox');\n    await expect(optionsList).toBeVisible();\n\n    // First option should be visible (portal-scoped)\n    await expect(page.getByTestId('option-0')).toBeVisible();\n\n    // Scroll down in the portal options list\n    await optionsList.evaluate((el) => {\n      el.scrollTop = 500; // Scroll down\n    });\n\n    // An option further down should be visible (portal-scoped)\n    await expect(page.getByTestId('option-10')).toBeVisible();\n\n    // click outside to close combobox â€” click the document body to ensure closing the portal\n    await page.locator('body').click();\n\n    // Combobox listbox should be hidden/removed from the page\n    await expect(page.getByRole('listbox')).toBeHidden();\n\n    // Open combobox again\n    await combobox.click();\n\n    // Wait for portal listbox and first option again\n    await expect(page.getByRole('listbox')).toBeVisible();\n    await expect(page.getByTestId('option-0')).toBeVisible();\n  });\n});\n"],"names":["test","use","viewport","width","height","hasKeyErrors","errors","keyErrorPatterns","some","err","pattern","includes","describe","mount","component","VirtualizerExample","numItems","expect","toBeVisible","getByTestId","farItem","not","toBeAttached","container","toHaveAttribute","firstItem","evaluate","el","scrollTop","i","offset","locator","first","items","count","toBeGreaterThan","scrollHeight","itemCount","toBeLessThan","itemCountAfterScroll","item0","toContainText","item1","clientHeight","page","consoleErrors","on","msg","type","push","text","toHaveCount","click","newFirstItem","toBe","itemsAfterFirst","VirtualizerComboboxExample","combobox","getByRole","optionsList","toBeHidden"],"mappings":"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"}